# [Chapter_01] 웹 브라우저가 메시지를 만든다.

> 성공과 실패를 결정하는 1%의 네트워크 원리를 읽고 정리한 내용입니다.  

<br>  

## 📕  개요
1. HTTP 리퀘스트 메시지를 작성한다
2. 웹 서버의 IP 주소를 DNS 서버에 조회한다
3. 전 세계의 DNS 서버가 연대한다
4. 프로토콜 스택에 메시지 송신을 의뢰한다

<br>  

### Story 1. HTTP 리퀘스트 메시지를 작성한다  
<br>  

1️⃣  탐험 여행은 URL 입력부터 시작한다  
- 탐험 여행의 출발점은 브라우저에서 URL을 입력하는 곳이다.  
- URL(Uniform Resource Locator)은 `http://`로 시작하는 것이라고 알고있지만, 이외에도 `file:`, `mailto:`로 시작하는 것 등 여러가지가 있다.  

   ```
   URL(Uniform Resource Locator)이란?
   
   네트워크 상에서 자원이 어디 있는지를 알려주기 위한 규약이다. 즉, 컴퓨터 네트워크와 검색 메커니즘에서의 위치를 지정하는, 웹 리소스에 대한 참조이다. 쉽게 말해서, 웹 페이지를 찾기위한 주소를 말한다. 흔히 웹 사이트 주소로 알고 있지만, URL은 웹 사이트 주소뿐만 아니라 컴퓨터 네트워크상의 자원을 모두 나타낼 수 있다. 그 주소에 접속하려면 해당 URL에 맞는 프로토콜을 알아야 하고, 그와 동일한 프로토콜로 접속해야 한다.

   FTP는 FTP 클라이언트를 이용해야 하고, HTTP인 경우에는 웹 브라우저를 이용해야 한다. 텔넷의 경우에는 텔넷 프로그램을 이용해서 접속해야 한다.

   [출처: 위키백과](https://ko.wikipedia.org/wiki/URL)
   ```
- 브라우저는 보통 웹 서버에 엑세스하는 클라이언트로 사용하지만, 파일을 다운로드/업로드 하는 `FTP`의 클라이언트 기능이나, `메일`의 클라이언트 기능도 가지고 있다.  
- 그렇다면 왜, URL은 다양한 기능을 제공할까?  
  + 브라우저는 몇 개의 클라이언트 기능을 겸비한 복합적인 클라이언트 소프트웨어라고 할 수 있다.  
  + 이러한 기능 중 어떤 것을 사용하여 데이터에 엑세스하면 좋을지 판단하는 재료가 필요한데, 그 재료가 `URL`이다.   
- 모든 URL에는 하나의 공통점이 있다.
  + URL의 맨 앞에 있는 문자열, 즉 `http:`,  `ftp:`, `file:`, `mailto:`라는 부분에서 엑세스하는 방법을 나타내는데, 이것들을 `프로토콜`이라고 부른다.

![그림 1-1](./images/1-1.png)
 
2️⃣  브라우저는 먼저 URL을 해독한다  
3️⃣  파일명을 생략한 경우  
4️⃣  HTTP의 기본 개념  
5️⃣  HTTP 리퀘스트 메시지를 만든다  
6️⃣  리퀘스트 메시지를 보내면 응답이 되돌아온다  

### Story 2. 웹 서버의 IP 주소를 DNS 서버에 조회한다
> 1️⃣  IP 주소의 기본  
> 2️⃣  도메인명과 IP 주소를 구분하여 사용하는 이유  
> 3️⃣  Socket 라이브러리가 IP 주소를 찾는 기능을 제공한다  
> 4️⃣  리졸버를 이용하여 DNS 서버를 조회한다  
> 5️⃣  리졸버 내부의 작동

### Story 3. 전 세계의 DNS 서버가 연대한다
> 1️⃣  DNS 서버의 기본 동작  
> 2️⃣  도메인의 계층  
> 3️⃣  담당 DNS 서버를 찾아 IP 주소를 가져온다  
> 4️⃣  DNS 서버는 캐시 기능으로 빠르게 회답할 수 있다   

### Story 4. 프로토콜 스택에 메시지 송신을 의뢰한다
> 1️⃣  데이터 송/수신 동작의 개요  
> 2️⃣  소켓의 작성 단계  
> 3️⃣  파이프를 연결하는 접속 단계   
> 4️⃣  메시지를 주고받는 송/수신 단계  
> 5️⃣  연결 끊기 단계에서 송/수신이 종료된다  
x